{"version":3,"sources":["components/ListText.js","components/FileUploader.js","App.js","index.js","components/ListText.module.css"],"names":["ListText","props","useState","showContent","setShowContent","className","styles","container","style","display","flexFlow","mindMapMode","marginBottom","expandable","height","onClick","previous","marginLeft","text","children","FileUploader","type","name","onChange","event","submitHandler","target","files","App","setMindMapMode","file","setFile","fileData","setFileData","fileJSON","setFileJSON","elementHierarchy","h1","h2","h3","p","elements","document","querySelector","querySelectorAll","output","reduce","current","index","array","localName","insertChildren","textContent","currentHierarchy","insertSibilingInLatestAndDeepestDepths","replace","insertSibilingAtSpecifiedDepth","insertChildInLatestAndDeepestDepths","object","data","length","depth","push","fileReader","FileReader","onload","e","result","readAsText","processFile","objectExtractor","map","child","id","dangerouslySetInnerHTML","__html","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.8c3014db.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport styles from \"./ListText.module.css\";\r\n\r\nconst ListText = (props) => {\r\n  const [showContent, setShowContent] = useState(false);\r\n  return (\r\n    <div className={styles.container}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexFlow: props.mindMapMode ? \"row\" : \"column\",\r\n          marginBottom: props.mindMapMode && \"2rem\",\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", flexFlow: \"row\" }}>\r\n          {props.expandable && (\r\n            <button\r\n              style={{ height: \"1.2rem\" }}\r\n              onClick={() => setShowContent((previous) => !previous)}\r\n            >\r\n              O\r\n            </button>\r\n          )}\r\n          <div style={{ marginLeft: !props.expandable && \"1.5rem\" }}>{props.text}</div>\r\n        </div>\r\n        {showContent && <div style={{ display: \"flex\", flexFlow: \"column\" }}>{props.children}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListText;\r\n","const FileUploader = (props) => {\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"file\"\r\n        name=\"filename\"\r\n        onChange={(event) => props.submitHandler(event.target.files[0])}\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUploader;\r\n","import { useState } from \"react\";\r\nimport ListText from \"./components/ListText\";\r\nimport \"./App.css\";\r\nimport FileUploader from \"./components/FileUploader\";\r\n\r\nconst App = () => {\r\n  // const [noteData, setNoteData] = useState(JSON.stringify(exampleObject2));\r\n  const [mindMapMode, setMindMapMode] = useState(false);\r\n  const [file, setFile] = useState();\r\n  const [fileData, setFileData] = useState();\r\n  const [fileJSON, setFileJSON] = useState();\r\n\r\n  // console.log(\"sample html\", sampleHTML)\r\n\r\n  // const updateNotes = (event) => {\r\n  //   event.preventDefault();\r\n  //   console.log(\"Notes updated!\");\r\n  //   setNoteData((previousObject) => {\r\n\r\n  //   })\r\n  // };\r\n\r\n  const htmlProcessor = () => {\r\n    const elementHierarchy = {\r\n      h1: 1,\r\n      h2: 2,\r\n      h3: 3,\r\n      p: {\r\n        \"\": 4,\r\n        \"72pt\": 5,\r\n        \"108pt\": 6,\r\n        \"144pt\": 7,\r\n        \"180pt\": 8,\r\n        \"216pt\": 9,\r\n        \"254pt\": 10,\r\n        \"290pt\": 11,\r\n      },\r\n    };\r\n\r\n    const uploaded = document.querySelector(\"#uploadedDocument\");\r\n    const elements = uploaded.querySelectorAll(\".WordSection1 > *\");\r\n    const elementArray = [...elements];\r\n\r\n    const output = elementArray.reduce(\r\n      (previous, current, index, array) => {\r\n        if (current.localName === \"p\") {\r\n          // try {\r\n          //   current.removeFirstChild(current.querySelector(\"span\"));\r\n          // } catch {}\r\n        }\r\n        if (current.localName === \"h1\") {\r\n          insertChildren(previous[1], {\r\n            text: current.textContent,\r\n            children: [],\r\n          });\r\n          return [1, previous[1]];\r\n        }\r\n        if (index > 0 && array[index - 1].localName) {\r\n          if (\r\n            current.localName != \"p\" &&\r\n            current.localName != \"h1\" &&\r\n            current.localName != \"h2\" &&\r\n            current.localName != \"h3\"\r\n          ) {\r\n            return previous;\r\n          }\r\n          let currentHierarchy;\r\n          if (current.localName === \"p\") {\r\n            currentHierarchy = elementHierarchy[current.localName][current.style.marginLeft];\r\n          } else {\r\n            currentHierarchy = elementHierarchy[current.localName];\r\n          }\r\n          if (previous[0] === currentHierarchy) {\r\n            insertSibilingInLatestAndDeepestDepths(previous[1], {\r\n              text: current.textContent\r\n                .replace(/[\\x00-\\x1F\\x7F-\\xFF]/g, \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\"),\r\n              children: [],\r\n            });\r\n          } else if (previous[0] > currentHierarchy) {\r\n            insertSibilingAtSpecifiedDepth(\r\n              previous[1],\r\n              {\r\n                text: current.textContent\r\n                  .replace(/[\\x00-\\x1F\\x7F-\\xFF]/g, \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\"),\r\n                children: [],\r\n              },\r\n              currentHierarchy\r\n            );\r\n          } else if (previous[0] < currentHierarchy) {\r\n            insertChildInLatestAndDeepestDepths(previous[1], {\r\n              text: current.textContent\r\n                .replace(/[\\x00-\\x1F\\x7F-\\xFF]/g, \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\"),\r\n              children: [],\r\n            });\r\n          }\r\n          return [currentHierarchy, previous[1]];\r\n        }\r\n        return previous;\r\n      },\r\n      [-1, { text: \"Root\", children: [] }]\r\n    );\r\n\r\n    function insertSibilingInLatestAndDeepestDepths(object, data) {\r\n      if (object.children[object.children.length - 1].children.length === 0) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertSibilingInLatestAndDeepestDepths(\r\n          object.children[object.children.length - 1],\r\n          data\r\n        );\r\n      }\r\n    }\r\n\r\n    function insertChildInLatestAndDeepestDepths(object, data) {\r\n      if (object.children.length === 0) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertChildInLatestAndDeepestDepths(\r\n          object.children[object.children.length - 1],\r\n          data\r\n        );\r\n      }\r\n    }\r\n    function insertChildAtSpecifiedDepth(object, data, depth) {\r\n      if (depth === 0) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertChildAtSpecifiedDepth(\r\n          object.children[object.children.length - 1],\r\n          data,\r\n          depth - 1\r\n        );\r\n      }\r\n    }\r\n    function insertSibilingAtSpecifiedDepth(object, data, depth) {\r\n      if (depth === 1) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertSibilingAtSpecifiedDepth(\r\n          object.children[object.children.length - 1],\r\n          data,\r\n          depth - 1\r\n        );\r\n      }\r\n    }\r\n\r\n    // Access the last correct node and append another chlid\r\n    function insertChildren(object, data) {\r\n      object.children.push(data);\r\n      return object;\r\n    }\r\n\r\n    setFileJSON(output[1]);\r\n  };\r\n\r\n  const processFile = () => {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = function (e) {\r\n      setFileData(e.target.result);\r\n    };\r\n    fileReader.readAsText(file);\r\n  };\r\n\r\n  const objectExtractor = (object, mindMapMode) => {\r\n    if (object?.children?.length === 0 || !object?.children?.length)\r\n      return <ListText mindMapMode={mindMapMode} expandable={false} text={object.text} />;\r\n    return (\r\n      <ListText mindMapMode={mindMapMode} expandable={true} text={object.text}>\r\n        {object.children.map((child) => {\r\n          return objectExtractor(child, mindMapMode);\r\n        })}\r\n      </ListText>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Notes</h3>\r\n      <FileUploader submitHandler={setFile} />\r\n      <button onClick={htmlProcessor}>Click to process</button>\r\n      <button onClick={() => setMindMapMode((previous) => !previous)}>Toggle Mindmap Mode</button>\r\n      {file && processFile()}\r\n      <div>{file && file.name}</div>\r\n      {fileJSON && objectExtractor(fileJSON, mindMapMode)}\r\n      {/* <form onSubmit={updateNotes}>\r\n        <input placeholder=\"write your notes here\"></input>\r\n        <input placeholder=\"level\"></input>\r\n      </form> */}\r\n      {/* {sampleHTML} */}\r\n      <div\r\n        id=\"uploadedDocument\"\r\n        style={{ display: \"none\" }}\r\n        dangerouslySetInnerHTML={{ __html: fileData }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ListText_container__2oWhs\"};"],"sourceRoot":""}