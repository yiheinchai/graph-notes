{"version":3,"sources":["components/ui/buttons/AddButton.js","components/ListText.js","components/FileUploader.js","App.js","index.js","components/ListText.module.css","components/ui/buttons/AddButton.module.css"],"names":["AddButton","props","className","styles","button","onClick","onClickHandler","previous","ListText","useState","showContent","setShowContent","container","style","display","flexFlow","mindMapMode","alignItems","marginBottom","gap","backgroundColor","border","borderRadius","padding","whiteSpace","marginLeft","expandable","text","children","FileUploader","type","name","onChange","event","submitHandler","target","files","App","setMindMapMode","file","setFile","fileData","setFileData","fileJSON","setFileJSON","elementHierarchy","h1","h2","h3","p","elements","document","querySelector","querySelectorAll","output","reduce","current","index","array","localName","insertChildren","textContent","currentHierarchy","insertSibilingInLatestAndDeepestDepths","replace","insertSibilingAtSpecifiedDepth","insertChildInLatestAndDeepestDepths","object","data","length","depth","push","fileReader","FileReader","onload","e","result","readAsText","processFile","objectExtractor","map","child","id","dangerouslySetInnerHTML","__html","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.42c67f09.chunk.js","sourcesContent":["import { IoAddOutline } from \"react-icons/io5\";\r\nimport styles from \"./AddButton.module.css\";\r\n\r\nconst AddButton = (props) => {\r\n  return (\r\n    <button className={styles.button} onClick={() => props.onClickHandler((previous) => !previous)}>\r\n      <IoAddOutline />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default AddButton;\r\n","import { useState } from \"react\";\r\nimport styles from \"./ListText.module.css\";\r\nimport { IoAddOutline } from \"react-icons/io5\";\r\nimport AddButton from \"./ui/buttons/AddButton\";\r\n\r\nconst ListText = (props) => {\r\n  const [showContent, setShowContent] = useState(false);\r\n  return (\r\n    <div className={styles.container}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexFlow: props.mindMapMode ? \"row\" : \"column\",\r\n          alignItems: props.mindMapMode && \"center\",\r\n          marginBottom: props.mindMapMode && \"2rem\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexFlow: \"row\",\r\n            gap: \"0.3rem\",\r\n            backgroundColor: \"white\",\r\n            border: \"1px solid #EAECF1\",\r\n            borderRadius: \"2rem\",\r\n            padding: \"0.5rem\",\r\n          }}\r\n        >\r\n          <div style={{ whiteSpace: \"nowrap\", marginLeft: !props.expandable && \"1.5rem\" }}>\r\n            {props.text}\r\n          </div>\r\n          {props.expandable && (\r\n            // <button\r\n            //   style={{ height: \"1.2rem\" }}\r\n            //   onClick={() => setShowContent((previous) => !previous)}\r\n            // >\r\n            //   <IoAddOutline />\r\n            // </button>\r\n            <AddButton onClickHandler={setShowContent} />\r\n          )}\r\n        </div>\r\n        {showContent && <div style={{ display: \"flex\", flexFlow: \"column\" }}>{props.children}</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListText;\r\n","const FileUploader = (props) => {\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"file\"\r\n        name=\"filename\"\r\n        onChange={(event) => props.submitHandler(event.target.files[0])}\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUploader;\r\n","import { useState } from \"react\";\r\nimport ListText from \"./components/ListText\";\r\nimport \"./App.css\";\r\nimport FileUploader from \"./components/FileUploader\";\r\n\r\nconst App = () => {\r\n  // const [noteData, setNoteData] = useState(JSON.stringify(exampleObject2));\r\n  const [mindMapMode, setMindMapMode] = useState(false);\r\n  const [file, setFile] = useState();\r\n  const [fileData, setFileData] = useState();\r\n  const [fileJSON, setFileJSON] = useState();\r\n\r\n  // console.log(\"sample html\", sampleHTML)\r\n\r\n  // const updateNotes = (event) => {\r\n  //   event.preventDefault();\r\n  //   console.log(\"Notes updated!\");\r\n  //   setNoteData((previousObject) => {\r\n\r\n  //   })\r\n  // };\r\n\r\n  const htmlProcessor = () => {\r\n    const elementHierarchy = {\r\n      h1: 1,\r\n      h2: 2,\r\n      h3: 3,\r\n      p: {\r\n        \"\": 4,\r\n        \"72pt\": 5,\r\n        \"108pt\": 6,\r\n        \"144pt\": 7,\r\n        \"180pt\": 8,\r\n        \"216pt\": 9,\r\n        \"254pt\": 10,\r\n        \"290pt\": 11,\r\n      },\r\n    };\r\n\r\n    const uploaded = document.querySelector(\"#uploadedDocument\");\r\n    const elements = uploaded.querySelectorAll(\".WordSection1 > *\");\r\n    const elementArray = [...elements];\r\n\r\n    const output = elementArray.reduce(\r\n      (previous, current, index, array) => {\r\n        if (current.localName === \"p\") {\r\n          // try {\r\n          //   current.removeFirstChild(current.querySelector(\"span\"));\r\n          // } catch {}\r\n        }\r\n        if (current.localName === \"h1\") {\r\n          insertChildren(previous[1], {\r\n            text: current.textContent,\r\n            children: [],\r\n          });\r\n          return [1, previous[1]];\r\n        }\r\n        if (index > 0 && array[index - 1].localName) {\r\n          if (\r\n            current.localName != \"p\" &&\r\n            current.localName != \"h1\" &&\r\n            current.localName != \"h2\" &&\r\n            current.localName != \"h3\"\r\n          ) {\r\n            return previous;\r\n          }\r\n          let currentHierarchy;\r\n          if (current.localName === \"p\") {\r\n            currentHierarchy = elementHierarchy[current.localName][current.style.marginLeft];\r\n          } else {\r\n            currentHierarchy = elementHierarchy[current.localName];\r\n          }\r\n          if (previous[0] === currentHierarchy) {\r\n            insertSibilingInLatestAndDeepestDepths(previous[1], {\r\n              text: current.textContent\r\n                .replace(/[\\x00-\\x1F\\x7F-\\xFF]/g, \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\"),\r\n              children: [],\r\n            });\r\n          } else if (previous[0] > currentHierarchy) {\r\n            insertSibilingAtSpecifiedDepth(\r\n              previous[1],\r\n              {\r\n                text: current.textContent\r\n                  .replace(/[\\x00-\\x1F\\x7F-\\xFF]/g, \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\")\r\n                  .replace(\"�\", \"\"),\r\n                children: [],\r\n              },\r\n              currentHierarchy\r\n            );\r\n          } else if (previous[0] < currentHierarchy) {\r\n            insertChildInLatestAndDeepestDepths(previous[1], {\r\n              text: current.textContent\r\n                .replace(/[\\x00-\\x1F\\x7F-\\xFF]/g, \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\")\r\n                .replace(\"�\", \"\"),\r\n              children: [],\r\n            });\r\n          }\r\n          return [currentHierarchy, previous[1]];\r\n        }\r\n        return previous;\r\n      },\r\n      [-1, { text: \"Root\", children: [] }]\r\n    );\r\n\r\n    function insertSibilingInLatestAndDeepestDepths(object, data) {\r\n      if (object.children[object.children.length - 1].children.length === 0) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertSibilingInLatestAndDeepestDepths(\r\n          object.children[object.children.length - 1],\r\n          data\r\n        );\r\n      }\r\n    }\r\n\r\n    function insertChildInLatestAndDeepestDepths(object, data) {\r\n      if (object.children.length === 0) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertChildInLatestAndDeepestDepths(\r\n          object.children[object.children.length - 1],\r\n          data\r\n        );\r\n      }\r\n    }\r\n    function insertChildAtSpecifiedDepth(object, data, depth) {\r\n      if (depth === 0) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertChildAtSpecifiedDepth(\r\n          object.children[object.children.length - 1],\r\n          data,\r\n          depth - 1\r\n        );\r\n      }\r\n    }\r\n    function insertSibilingAtSpecifiedDepth(object, data, depth) {\r\n      if (depth === 1) {\r\n        return insertChildren(object, data);\r\n      } else {\r\n        return insertSibilingAtSpecifiedDepth(\r\n          object.children[object.children.length - 1],\r\n          data,\r\n          depth - 1\r\n        );\r\n      }\r\n    }\r\n\r\n    // Access the last correct node and append another chlid\r\n    function insertChildren(object, data) {\r\n      object.children.push(data);\r\n      return object;\r\n    }\r\n\r\n    setFileJSON(output[1]);\r\n  };\r\n\r\n  const processFile = () => {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = function (e) {\r\n      setFileData(e.target.result);\r\n    };\r\n    fileReader.readAsText(file);\r\n  };\r\n\r\n  const objectExtractor = (object, mindMapMode) => {\r\n    if (object?.children?.length === 0 || !object?.children?.length)\r\n      return <ListText mindMapMode={mindMapMode} expandable={false} text={object.text} />;\r\n    return (\r\n      <ListText mindMapMode={mindMapMode} expandable={true} text={object.text}>\r\n        {object.children.map((child) => {\r\n          return objectExtractor(child, mindMapMode);\r\n        })}\r\n      </ListText>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Notes</h3>\r\n      <FileUploader submitHandler={setFile} />\r\n      <button onClick={htmlProcessor}>Click to process</button>\r\n      <button onClick={() => setMindMapMode((previous) => !previous)}>Toggle Mindmap Mode</button>\r\n      {file && processFile()}\r\n      <div>{file && file.name}</div>\r\n      {fileJSON && objectExtractor(fileJSON, mindMapMode)}\r\n      {/* <form onSubmit={updateNotes}>\r\n        <input placeholder=\"write your notes here\"></input>\r\n        <input placeholder=\"level\"></input>\r\n      </form> */}\r\n      {/* {sampleHTML} */}\r\n      <div\r\n        id=\"uploadedDocument\"\r\n        style={{ display: \"none\" }}\r\n        dangerouslySetInnerHTML={{ __html: fileData }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ListText_container__2oWhs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AddButton_button__2O-ji\"};"],"sourceRoot":""}